<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Estilos -->
    <link rel="stylesheet" href="css/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <title>Escuela</title>
  </head>
  <body>
    <header class="main-header">
      <label for="btn-nav" class="btn-nav"
        ><i class="fa-bars:before"></i
      ></label>
      <input type="checkbox" id="btn-nav" />

      <nav>
        <ul class="navigation">
          <li><a href="index.html">Alumnos</a></li>
          <li><a href="pages/maestros.html">Maestros</a></li>
          <li><a href="pages/materia.html">Materias</a></li>
          <li><a href="pages/calificaciones.html">Calificaciones</a></li>
        </ul>
      </nav>
    </header>

    <h1>Información de Alumnos</h1>

      <form id="formulario-alumno" method="POST">
      <h2>Añadir Estudiante</h2>

      <label for="nombre">Nombre:</label>
      <input type="text" id="nombre" name="nombre" required /><br />
        
      <label for="edad">Apellidos:</label>      
      <input type="text" id="apellidos" name="apellidos" required /><br />

      <label for="curso">Telefono:</label>
      <input type="text" id="telefono" name="tel" required /><br />

     <label for="status">Selecciona el estado:</label><br>
     <select name="status" id="status">
     <option value="aprobado">Aprobado</option>
     <option value="reprobado">Reprobado</option> 
     </select>
     

     <label for="promedio">Selecciona la materia:</label><br>
     <select name="id_materia" id="id_materia">
     <option value="1">Matematicas</option>
     <option value="2">Español</option> 
     <option value="4">Fisica</option> 
     <option value="5">Quimica</option> 
     <option value="85">Musica</option> 

     </select>
    
     <input type="submit" value="Enviar" onclick="createAlumno()">
     </form>


<!-- 
      <label for="promedio">Id_materia:</label>

      <input type="text" id="id_materia" name="id_materia" required /><br />
 -->



      <button type="submit" id="">Añadir Alumno</button>    
      <button type="submit" id="">Actualizar</button>
      <button type="submit" id="delete">Eliminar</button>

      <script>

       var formulario = document.getElementById('formulario-alumno');

        document.getElementById('formulario-alumno').addEventListener('submit', async (event) => {
        event.preventDefault(); 
        console.log("me diste un click");           

           
            const nombre = document.getElementById('nombre').value;
            const apellidos = document.getElementById('apellidos').value;
            const telefono = document.getElementById('telefono').value;
            const status = document.getElementById('status').value;
            const id_materia = document.getElementById('id_materia').value;

            

             try {
                
                const newUserId = await userService.createAlumno(nombre, apellidos, telefono, status, );
                console.log('Crear Alumno con ID:', newUserId);
                alert('Alumno añadido exitosamente con ID: ' + newUserId);
            } catch (error) {
                console.error('Error al crear el alumno:', error);
                alert('Hubo un error al añadir el alumno.');
            }
        });

        
    </script>
    </form>
  </body>
</html>
